@model ProdutoViewModel
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<h2>Cadastro de Produto</h2>

<form asp-action="save" class="needs-validation" enctype="multipart/form-data" novalidate>

    <input value="@ViewBag.Operacao" type="hidden" name="Operacao">
    <input asp-for="Id" class="form-control" id="id" hidden>

    <label for="Nome" class="control-label">Nome do Produto</label>
    <input asp-for="Nome" class="form-control" />
    <span asp-validation-for="Nome" class="text-danger"></span>
    <br />

    <label for="Preco" class="control-label">Preço</label>
    <input asp-for="Preco" class="form-control" />
    <span asp-validation-for="Preco" class="text-danger"></span>
    <br />

    <label for="Descricao" class="control-label">Descrição</label>
    <input asp-for="Descricao" class="form-control" />
    <span asp-validation-for="Descricao" class="text-danger"></span>
    <br />

   <label for="Imagem" class="control-label">Imagem (Base64)</label>
   <input type="file" name="Imagem" id="Imagem" onchange="exibirImagem()" class="btn btn-secondary">
   <img id="imgPreview" src="data:image/jpeg;base64,@Model.ImagemEmBase64" class="img-responsive" width="200">
   <span asp-validation-for="Imagem" class="text-danger"></span>




    <br />
    <input type="submit" value="Salvar Produto" class="btn btn-info" />
    <br />
    
    <script>
        function exibirImagem() {
            var oFReader = new FileReader();
            oFReader.readAsDataURL(document.getElementById("Imagem").files[0]);
            oFReader.onload = function (oFREvent) {
                document.getElementById("imgPreview").src = oFREvent.target.result;
            };
        }
    </script>
</form>
